# SonarQube/SonarCloud Configuration for Jemanote PWA
# https://docs.sonarqube.org/latest/analysis/analysis-parameters/

# Project identification
sonar.projectKey=jemanote-pwa
sonar.projectName=Jemanote PWA
sonar.projectVersion=1.0.0
sonar.organization=jemanote

# Source code location
sonar.sources=src
sonar.tests=tests
sonar.inclusions=src/**/*
sonar.test.inclusions=tests/**/*

# Language
sonar.language=ts
sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Exclusions
sonar.exclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/__mocks__/**,\
  **/mocks/**,\
  **/*.stories.tsx,\
  **/*.stories.ts,\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**,\
  **/coverage/**,\
  **/public/**,\
  **/*.config.ts,\
  **/*.config.js,\
  **/scripts/**

sonar.coverage.exclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/__mocks__/**,\
  **/mocks/**,\
  **/*.stories.tsx,\
  **/*.stories.ts,\
  **/types/**,\
  **/vite-env.d.ts

# Duplication exclusions
sonar.cpd.exclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/__mocks__/**

# Quality Gate thresholds
sonar.qualitygate.wait=true

# Code coverage thresholds
sonar.coverage.minimumCoverage=80

# Complexity thresholds
sonar.complexity.threshold=10

# Technical debt
sonar.technicalDebt.ratingGrid=0.05,0.1,0.2,0.5
sonar.technicalDebt.developmentCost=30

# Issue exclusions
sonar.issue.ignore.multicriteria=e1,e2,e3

# Ignore 'console.log' issues in development files
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S106
sonar.issue.ignore.multicriteria.e1.resourceKey=**/scripts/**

# Ignore 'any' type issues in test files
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S4204
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.test.ts

# Ignore cognitive complexity in test files
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S3776
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.test.ts

# Security
sonar.security.hotspots.level=HIGH

# Analysis properties
sonar.sourceEncoding=UTF-8
sonar.verbose=false

# Pull request decoration (for GitHub integration)
sonar.pullrequest.provider=GitHub
sonar.pullrequest.github.repository=jemanote/jemanote-pwa
